package com.zptioning.code.chapter08;import java.util.concurrent.BrokenBarrierException;import java.util.concurrent.CyclicBarrier;import java.util.concurrent.TimeUnit;/** *  * @author tengfei.fangtf * @version $Id: CyclicBarrierTest3.java, v 0.1 2015-8-1 ����12:09:37 tengfei.fangtf Exp $ */public class CyclicBarrierTest3 {    static CyclicBarrier c = new CyclicBarrier(2);    public static void main(String[] args) throws InterruptedException, BrokenBarrierException {        Thread thread = new Thread(new Runnable() {            @Override            public void run() {                try {                    System.out.println("i am running!!!");                    c.await();                } catch (Exception e) {                    e.printStackTrace();                }            }        });        thread.start();        TimeUnit.SECONDS.sleep(5);        thread.interrupt();        try {            System.out.println(" come on baby!!!");            c.await();        } catch (Exception e) {            System.out.println("are you broken!!");            System.out.println(c.isBroken());        }    }}